!function(){var t=
/*
 *
 * Simple SparkLine Chart
 * @version 0.1.0
 * @license MIT
 * @author https://github.com/dejurin
 *
 * https://github.com/dejurin/simple-sparkline
 *
 */
class{constructor(t){document.querySelectorAll(t).forEach((t=>{this.createChart(t)}))}createChart(t){const e=t.dataset.values;let i=[],s=[],a=!1;if(!e)return void console.warn("Missing data-values attribute for element:",t);try{const n=JSON.parse(e);if(!(Array.isArray(n)&&n.length>0))return void console.warn("Empty or invalid array in data-values:",t);if("object"==typeof n[0]&&null!==n[0])a=!0,s=n.map((t=>({timestamp:t.timestamp,value:t.value}))),i=s.map((t=>t.value));else{if("number"!=typeof n[0])return void console.warn("Invalid data format in data-values:",t);i=n.filter(Number.isFinite)}}catch{i=e.split(",").map(parseFloat).filter(Number.isFinite)}if(0===i.length)return void console.warn("No valid data values for element:",t);const n=t.dataset.width?parseInt(t.dataset.width):200,r=t.dataset.height?parseInt(t.dataset.height):Math.round(.2*n),o="true"===t.dataset.filled,l=t.dataset.colorStroke||"#8956ff",d=t.dataset.colorFilled||l,u=t.dataset.strokeWidth?parseFloat(t.dataset.strokeWidth):2,c=void 0!==t.dataset.filledOpacity?parseFloat(t.dataset.filledOpacity):.2,p=t.dataset.ariaLabel||"Simple SparkLine Chart",h="false"!==t.dataset.tooltip,m=t.dataset.tooltipPosition||"above",b=t.dataset.locale||navigator.language||"en-US";this.makeChart(i,s,a,n,r,t,o,l,d,u,c,p,h,m,b)}makeChart(t,e,i,s,a,n,r,o,l,d,u,c,p,h,m){const b="http://www.w3.org/2000/svg",y=s,f=a,A=Math.max(...t),v=Math.min(...t),g=A-v||1,w=t=>f-d/2-(f-d)/g*(t-v),k=document.createElementNS(b,"svg");k.setAttribute("role","img"),k.setAttribute("width",y.toString()),k.setAttribute("height",f.toString()),k.setAttribute("aria-label",c),k.setAttribute("viewBox",`0 0 ${y} ${f}`),k.setAttribute("overflow","visible"),k.setAttribute("preserveAspectRatio","none");const x=t.length>1?y/(t.length-1):0,S=[];for(let e=0;e<t.length;e++){const i=(e*x).toFixed(2),s=w(t[e]).toFixed(2);S.push(`${i},${s}`)}if(r){const t=`${S.map(((t,e)=>0===e?"M"+t:"L"+t)).join(" ")} L${y.toFixed(2)},${f.toFixed(2)} L0,${f.toFixed(2)} Z`,e=document.createElementNS(b,"path");e.setAttribute("d",t),e.setAttribute("stroke","none"),e.setAttribute("fill",l),e.setAttribute("fill-opacity",u.toString()),e.classList.add("sparkline-fill"),k.appendChild(e)}const C=`M${S.join(" L")}`,E=document.createElementNS(b,"path");E.setAttribute("d",C),E.setAttribute("fill","none"),E.setAttribute("stroke",o),E.setAttribute("stroke-width",d.toString()),E.setAttribute("stroke-linecap","butt"),E.setAttribute("stroke-linejoin","round"),E.classList.add("sparkline-path"),k.appendChild(E);const L=document.createElement("div");L.style.position="relative",L.style.display="inline-block",L.style.width=y+"px",L.appendChild(k);const F=document.createElement("div");F.style.position="absolute",F.style.pointerEvents="none",F.style.background="#333",F.style.border="1px solid #222",F.style.color="#fff",F.style.fontSize="small",F.style.whiteSpace="nowrap",F.style.padding="2px 4px",F.style.borderRadius="4px",F.classList.add("sparkline-tooltip"),F.style.display="none","bottom"===h?F.style.top=f+"px":F.style.bottom=f+"px",p&&L.appendChild(F),n.innerHTML="",n.appendChild(L);const M=document.createElementNS(b,"line");M.setAttribute("class","sparkline-cursor-line"),M.setAttribute("x1","0"),M.setAttribute("y1","0"),M.setAttribute("x2","0"),M.setAttribute("y2",f.toString()),M.setAttribute("stroke",o),M.setAttribute("stroke-width","1"),M.setAttribute("stroke-dasharray","4"),M.style.display="none",k.appendChild(M);const $=document.createElementNS(b,"circle");$.setAttribute("class","sparkline-spot"),$.setAttribute("r",(1.5*d).toString()),$.setAttribute("fill",o),$.setAttribute("stroke","#fff"),$.setAttribute("stroke-width","1"),$.style.display="none",k.appendChild($);const N=document.createElementNS(b,"rect");N.setAttribute("width",y.toString()),N.setAttribute("height",f.toString()),N.setAttribute("fill","transparent"),N.style.cursor="pointer",k.appendChild(N);const j=new Intl.DateTimeFormat(m,{hour:"numeric",minute:"numeric",second:"numeric",day:"numeric",month:"short",year:"numeric"}),I=s=>{s.preventDefault();const a=k.getBoundingClientRect();let n;if(s instanceof MouseEvent)n=s.clientX;else{if(!(s.touches&&s.touches.length>0))return;n=s.touches[0].clientX}const r=n-a.left,o=Math.round(r/x),l=Math.max(0,Math.min(t.length-1,o)),d=l*x,u=w(t[l]);if($.setAttribute("cx",d.toFixed(2)),$.setAttribute("cy",u.toFixed(2)),$.style.display="block",M.setAttribute("x1",d.toFixed(2)),M.setAttribute("x2",d.toFixed(2)),M.style.display="block",i){const t=e[l],i=j.format(new Date(t.timestamp));F.innerHTML=`${t.value} (${i})`}else F.textContent=t[l].toString();F.style.display="block";const c=F.getBoundingClientRect();let p=d-c.width/2;p<0?p=0:p+c.width>y&&(p=y-c.width),F.style.left=p+"px"},R=()=>{$.style.display="none",M.style.display="none",F.style.display="none"};N.addEventListener("mousemove",I),N.addEventListener("touchmove",I),N.addEventListener("mouseleave",R),N.addEventListener("touchend",R),N.addEventListener("touchcancel",R)}};"undefined"!=typeof window&&(window.SimpleSparkLineChart=t)}();
//# sourceMappingURL=index.js.map
